"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5254],{55254:function(e,t,a){a.r(t),a.d(t,{SubscriptionDashboard:function(){return SubscriptionDashboard}});var n=a(52322),s=a(2784),i=a(69692),l=a(35744),r=a(62197),c=a(8204),o=a(72841),u=a(12352),p=a(95775),d=a(52849);let SubscriptionDashboard=()=>{let{get:e,patch:t}=(0,p.h)(),[a,b]=(0,s.useState)([]),[f,h]=(0,s.useState)(!0),[m,D]=(0,s.useState)(null),fetchData=async()=>{h(!0);try{let t=await e("/api/super-admin/subscriptions");b(t.data||[]),D(null)}catch(e){D(e.message||"Failed to fetch data")}finally{h(!1)}};return(0,s.useEffect)(()=>{fetchData()},[]),(0,n.jsxs)(i.Z,{component:l.Z,sx:{p:3,borderRadius:2},children:[(0,n.jsxs)(i.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[(0,n.jsx)(r.Z,{variant:"h6",children:"Subscription Management"}),(0,n.jsx)(c.Z,{variant:"contained",onClick:fetchData,children:"Refresh"})]}),f&&(0,n.jsxs)(i.Z,{textAlign:"center",py:5,children:[(0,n.jsx)(o.Z,{}),(0,n.jsx)(r.Z,{mt:2,children:"Loading..."})]}),m&&(0,n.jsx)(u.Z,{severity:"error",children:m}),!f&&a.length>0&&(0,n.jsx)(d.w,{title:"Subscriptions",resource:"subscriptions",data:a,columns:[{id:"tenant_businessName",label:"Tenant",format:e=>e.tenant_businessName||"-"},{id:"userfirstname",label:"User",format:e=>"".concat(e.userfirstname," ").concat(e.userlastname)},{id:"subscription_status",label:"Status"},{id:"subscription_startDate",label:"Start Date",format:e=>new Date(e.subscription_startDate).toLocaleDateString()},{id:"subscription_endDate",label:"End Date",format:e=>new Date(e.subscription_endDate).toLocaleDateString()},{id:"planname",label:"Plan",format:e=>e.planname},{id:"plantype",label:"Plan Type",format:e=>e.plantype},{id:"planprice",label:"Price",format:e=>e.planprice},{id:"planbillingcycle",label:"Billing Cycle",format:e=>e.planbillingcycle}]}),!f&&0===a.length&&(0,n.jsx)(r.Z,{children:"No subscriptions found."})]})}}}]);