(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1102],{90368:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/reports/gstr1",function(){return s(46139)}])},46139:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return GSTR1ReportPage}});var a=s(52322),r=s(2784),l=s(33766),d=s(95775),n=s(56958);function GSTR1ReportPage(){var e,t;let{get:s}=(0,d.h)(),[i,c]=(0,r.useState)(null),[x,o]=(0,r.useState)(!0),[m,p]=(0,r.useState)({startDate:"",endDate:""}),h=(0,r.useCallback)(async()=>{try{o(!0);let e=new URLSearchParams({...m.startDate&&{startDate:m.startDate},...m.endDate&&{endDate:m.endDate}}),t=await s("/api/invoices/reports/gstr1?".concat(e.toString()));c(t)}catch(e){n.Am.error("Failed to load GSTR-1 report ❌")}finally{o(!1)}},[s,m]);return(0,r.useEffect)(()=>{h()},[h]),(0,a.jsx)(l.Z,{children:(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"GSTR-1 Report"}),(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-4 flex flex-wrap items-end gap-4",children:[(0,a.jsxs)("div",{className:"w-48",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"From Date"}),(0,a.jsx)("input",{type:"date",value:m.startDate,onChange:e=>p(t=>({...t,startDate:e.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),(0,a.jsxs)("div",{className:"w-48",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"To Date"}),(0,a.jsx)("input",{type:"date",value:m.endDate,onChange:e=>p(t=>({...t,endDate:e.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),(0,a.jsx)("div",{className:"ml-auto",children:(0,a.jsx)("button",{onClick:h,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700",children:"Filter"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Total Invoices"}),(0,a.jsx)("p",{className:"text-lg font-semibold",children:null!==(e=null==i?void 0:i.totalInvoices)&&void 0!==e?e:0})]}),(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Total Tax"}),(0,a.jsxs)("p",{className:"text-lg font-semibold text-indigo-600",children:["₹",(null!==(t=null==i?void 0:i.totalTax)&&void 0!==t?t:0).toFixed(2)]})]})]}),(0,a.jsx)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Invoice #"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Customer"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"GSTIN"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"GST Used"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Amount"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Category"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:x?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-500",children:"Loading..."})}):(null==i?void 0:i.data)&&i.data.length>0?i.data.map((e,t)=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.invoiceNumber}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.customerName}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.issueDate).toLocaleDateString()}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.customerGSTIN}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.gstinUsed}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-indigo-600",children:["₹",Number(e.totalAmount).toFixed(2)]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.category})]},t)):(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-500",children:"No records found"})})})]})})]})})}}},function(e){e.O(0,[2138,9226,9496,731,8126,467,7240,5516,7578,3707,7951,7302,2968,6324,7737,6051,3957,4812,5323,747,6753,8870,5041,6026,5429,8498,4942,5702,8922,8510,8424,553,7226,269,6611,5341,5111,8592,2888,179],function(){return e(e.s=90368)}),_N_E=e.O()}]);