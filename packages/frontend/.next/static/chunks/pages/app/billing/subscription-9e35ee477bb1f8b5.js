(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7843],{80287:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/billing/subscription",function(){return a(30810)}])},30810:function(e,s,a){"use strict";a.r(s);var i=a(52322),t=a(2784),l=a(33766),n=a(50502),r=a(1505),d=a(13111),c=a(93571);s.default=()=>{var e,s,a,o,x,m;(0,r.CG)(e=>e.auth.currentTenant);let{data:u,isLoading:h,error:g}=(0,d.xu)(),[p,{isLoading:v}]=(0,d.A1)(),[b,j]=(0,t.useState)("");(0,t.useEffect)(()=>{u&&j(u.plan)},[u]);let handlePlanChange=async e=>{try{await p({plan:e}).unwrap(),j(e)}catch(e){}};return h?(0,i.jsx)(l.Z,{children:(0,i.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,i.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})}):(0,i.jsx)(l.Z,{children:(0,i.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,i.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,i.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Subscription Plan"}),(0,i.jsx)("p",{className:"text-gray-600 mb-8",children:"Manage your subscription plan and billing preferences"}),g&&(0,i.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:"Failed to load subscription details. Please try again."}),u&&(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[(0,i.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Current Plan"}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("p",{className:"text-xl font-bold text-gray-900",children:[u.plan.charAt(0).toUpperCase()+u.plan.slice(1)," Plan"]}),(0,i.jsxs)("p",{className:"text-gray-600",children:[(0,c.xG)(u.amount)," per ",u.interval]}),"active"===u.status&&(0,i.jsxs)("p",{className:"text-green-600 text-sm mt-1",children:["Active until ",new Date(u.currentPeriodEnd).toLocaleDateString()]})]}),(0,i.jsx)("div",{className:"text-right",children:(0,i.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat("active"===u.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:u.status})})]})]}),(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[{id:"basic",name:"Basic",price:29,features:["Up to 10 users","100 invoices per month","Basic reporting","Email support","1GB storage"]},{id:"professional",name:"Professional",price:79,features:["Up to 50 users","Unlimited invoices","Advanced reporting","Priority support","10GB storage","API access","Custom branding"]},{id:"enterprise",name:"Enterprise",price:199,features:["Unlimited users","Unlimited invoices","Advanced analytics","24/7 dedicated support","50GB storage","Full API access","White-label solution","SAML SSO"]}].map(e=>(0,i.jsx)("div",{className:"bg-white rounded-lg shadow border-2 transition-all ".concat(b===e.id?"border-blue-500 shadow-lg":"border-gray-200 hover:shadow-md"),children:(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:e.name}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("span",{className:"text-3xl font-bold text-gray-900",children:(0,c.xG)(e.price)}),(0,i.jsx)("span",{className:"text-gray-600",children:"/month"})]}),(0,i.jsx)("ul",{className:"space-y-2 mb-6",children:e.features.map((e,s)=>(0,i.jsxs)("li",{className:"flex items-center",children:[(0,i.jsx)("svg",{className:"h-5 w-5 text-green-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,i.jsx)("span",{className:"text-gray-600",children:e})]},s))}),(0,i.jsx)(n.z,{onClick:()=>handlePlanChange(e.id),disabled:b===e.id||v,className:"w-full",variant:b===e.id?"secondary":"primary",children:b===e.id?"Current Plan":"Select Plan"})]})},e.id))}),(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,i.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Usage Summary"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,i.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,i.jsx)("h3",{className:"text-sm font-medium text-gray-600",children:"Users"}),(0,i.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[(null==u?void 0:null===(e=u.usage)||void 0===e?void 0:e.users)||0," / ",(null==u?void 0:null===(s=u.limits)||void 0===s?void 0:s.users)||"Unlimited"]})]}),(0,i.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,i.jsx)("h3",{className:"text-sm font-medium text-gray-600",children:"Invoices This Month"}),(0,i.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[(null==u?void 0:null===(a=u.usage)||void 0===a?void 0:a.invoices)||0," / ",(null==u?void 0:null===(o=u.limits)||void 0===o?void 0:o.invoices)||"Unlimited"]})]}),(0,i.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,i.jsx)("h3",{className:"text-sm font-medium text-gray-600",children:"Storage Used"}),(0,i.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[((null==u?void 0:null===(x=u.usage)||void 0===x?void 0:x.storage)||0).toFixed(2)," GB / ",(null==u?void 0:null===(m=u.limits)||void 0===m?void 0:m.storage)||"Unlimited"," GB"]})]})]})]})]})})})}}},function(e){e.O(0,[2138,9226,9496,731,8126,467,7240,5516,7578,3707,7951,7302,2968,6324,7737,6051,3957,4812,5323,747,6753,8870,5041,6026,5429,8498,4942,5702,8922,8510,8424,553,7226,269,6611,5341,5111,8592,2888,179],function(){return e(e.s=80287)}),_N_E=e.O()}]);