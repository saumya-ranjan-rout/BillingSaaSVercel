(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2542],{18785:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/billing/payment-methods",function(){return a(30984)}])},30984:function(e,s,a){"use strict";a.r(s);var t=a(52322),r=a(2784),n=a(33766),d=a(50502),l=a(7050),i=a(13111),c=a(18347),o=a(2656),m=a(62292),x=a(78255);s.default=()=>{let{data:e,isLoading:s,error:a,refetch:u}=(0,i.h4)(),[h]=(0,i.oC)(),[p]=(0,i.uo)(),[g]=(0,i.GJ)(),[b,y]=(0,r.useState)(!1),[j,f]=(0,r.useState)({cardNumber:"",expMonth:"",expYear:"",cvc:"",name:""}),handleAddPaymentMethod=async e=>{e.preventDefault();try{await h(j).unwrap(),y(!1),f({cardNumber:"",expMonth:"",expYear:"",cvc:"",name:""}),u()}catch(e){}},handleRemovePaymentMethod=async e=>{try{await p(e).unwrap(),u()}catch(e){}},handleSetDefault=async e=>{try{await g(e).unwrap(),u()}catch(e){}},getCardIcon=e=>{let s=e.toLowerCase();return s.includes("visa")?"VISA":s.includes("mastercard")?"MC":s.includes("amex")?"AMEX":s.includes("discover")?"DISC":"CARD"};return s?(0,t.jsx)(n.Z,{children:(0,t.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})}):(0,t.jsxs)(n.Z,{children:[(0,t.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Payment Methods"}),(0,t.jsxs)(d.z,{onClick:()=>y(!0),children:[(0,t.jsx)(c.Z,{size:16,className:"mr-2"}),"Add Payment Method"]})]}),a&&(0,t.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:"Failed to load payment methods. Please try again."}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e&&e.length>0?(0,t.jsx)("ul",{className:"divide-y divide-gray-200",children:e.map(e=>(0,t.jsx)("li",{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"bg-gray-100 rounded-md p-2 mr-4",children:(0,t.jsx)(o.Z,{size:24,className:"text-gray-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsxs)("span",{className:"font-medium text-gray-900",children:[getCardIcon(e.brand)," •••• ",e.last4]}),e.isDefault&&(0,t.jsx)("span",{className:"ml-2 bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full",children:"Default"})]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Expires ",e.expMonth,"/",e.expYear]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:e.name})]})]}),(0,t.jsx)("div",{className:"flex space-x-2",children:!e.isDefault&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(d.z,{variant:"outline",size:"sm",onClick:()=>handleSetDefault(e.id),children:[(0,t.jsx)(m.Z,{size:16,className:"mr-1"}),"Set Default"]}),(0,t.jsx)(d.z,{variant:"danger",size:"sm",onClick:()=>handleRemovePaymentMethod(e.id),children:(0,t.jsx)(x.Z,{size:16})})]})})]})},e.id))}):(0,t.jsxs)("div",{className:"p-12 text-center",children:[(0,t.jsx)(o.Z,{size:48,className:"mx-auto text-gray-400 mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No payment methods"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"Add a payment method to get started with your subscription."}),(0,t.jsx)(d.z,{onClick:()=>y(!0),children:"Add Payment Method"})]})})]})}),(0,t.jsx)(l.u,{isOpen:b,onClose:()=>y(!1),title:"Add Payment Method",size:"md",children:(0,t.jsxs)("form",{onSubmit:handleAddPaymentMethod,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cardholder Name"}),(0,t.jsx)("input",{type:"text",value:j.name,onChange:e=>f({...j,name:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Card Number"}),(0,t.jsx)("input",{type:"text",value:j.cardNumber,onChange:e=>f({...j,cardNumber:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1234 5678 9012 3456",required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiration Date"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsx)("input",{type:"text",value:j.expMonth,onChange:e=>f({...j,expMonth:e.target.value}),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"MM",maxLength:2,required:!0}),(0,t.jsx)("input",{type:"text",value:j.expYear,onChange:e=>f({...j,expYear:e.target.value}),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"YY",maxLength:2,required:!0})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CVC"}),(0,t.jsx)("input",{type:"text",value:j.cvc,onChange:e=>f({...j,cvc:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"123",maxLength:3,required:!0})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,t.jsx)(d.z,{type:"button",variant:"outline",onClick:()=>y(!1),children:"Cancel"}),(0,t.jsx)(d.z,{type:"submit",children:"Add Payment Method"})]})]})})]})}}},function(e){e.O(0,[2138,9226,9496,731,8126,467,7240,5516,7578,3707,7951,7302,2968,6324,7737,6051,3957,4812,5323,747,6753,8870,5041,6026,5429,8498,4942,5702,8922,8510,8424,553,7226,269,6611,5341,5111,8592,2888,179],function(){return e(e.s=18785)}),_N_E=e.O()}]);