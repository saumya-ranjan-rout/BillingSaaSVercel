(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{62219:function(e,s,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/register",function(){return i(42549)}])},42549:function(e,s,i){"use strict";i.r(s);var a=i(52322),n=i(2784),t=i(39097),l=i.n(t),r=i(5632),o=i(63955),c=i(88883),d=i(48359),u=i(1505),m=i(45366),x=i(50502),p=i(43294),f=i(91825),h=i(96577),b=i.n(h);let g=d.Ry({accountType:d.Km(["admin","professional"]),businessName:d.Z_().min(2,"Business name is required"),subdomain:d.Z_().optional(),firstName:d.Z_().min(2,"First name is required"),lastName:d.Z_().min(2,"Last name is required"),email:d.Z_().email("Invalid email address"),password:d.Z_().min(6,"Password must be at least 6 characters"),professionType:d.Km(["CA","CS","Advocate","TaxConsultant"]).optional(),licenseNo:d.Z_().optional(),pan:d.Z_().min(10,"PAN number is required").regex(/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/,"Invalid PAN number format"),gst:d.Z_().min(15,"GST number is required").regex(/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/,"Invalid GST number format")}).refine(e=>{if(e.professionType&&e.licenseNo){let s={CA:/^[A-Z]{2}\d{4,6}$/,CS:/^(ACS|FCS)\d{4,6}$/,Advocate:/^[A-Z]{2,3}\/\d{3,6}\/\d{4}$/,TaxConsultant:/^[A-Z]{2,4}\d{3,6}$/}[e.professionType];return!s||s.test(e.licenseNo)}return!0},{message:"Enter a valid License No based on profession type",path:["licenseNo"]});s.default=()=>{var e,s,i,t,d,h,N,j,v;let y=(0,r.useRouter)();(0,u.TL)();let[w,{isLoading:A}]=(0,m.l4)(),[T,C]=(0,n.useState)(!1),[Z,S]=(0,n.useState)(""),[_,P]=(0,n.useState)(!1),{register:E,handleSubmit:L,watch:F,getValues:R,formState:{errors:k}}=(0,o.cI)({resolver:(0,c.F)(g)}),$=F("accountType");(0,n.useEffect)(()=>{P(!0)},[]);let onSubmit=async e=>{try{let s=await w(e).unwrap();if(null==s?void 0:s.user)S("Registration successful! You can now sign in."),C(!0),await new Promise(e=>setTimeout(e,2e3)),y.push("/auth/login");else throw Error("Registration failed. Please try again.")}catch(e){var s;S((null==e?void 0:null===(s=e.data)||void 0===s?void 0:s.error)||"Something went wrong"),C(!0)}};return _?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-[#eef2ff] px-4",children:(0,a.jsxs)("div",{className:"w-full max-w-6xl bg-white rounded-3xl shadow-2xl overflow-hidden grid grid-cols-1 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"p-12 bg-gradient-to-b from-[#6b4efc] to-[#386bfd] text-white flex flex-col justify-center",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"Create Your Account"}),(0,a.jsx)("p",{className:"text-lg opacity-90 mb-6",children:"Register and start using your billing & compliance dashboard."}),(0,a.jsxs)("ul",{className:"space-y-3 text-white text-sm opacity-95",children:[(0,a.jsx)("li",{children:"• Easy account setup in minutes"}),(0,a.jsx)("li",{children:"• Role-based access control"}),(0,a.jsx)("li",{children:"• Advanced security & encryption"}),(0,a.jsx)("li",{children:"• Personalized dashboard & reports"}),(0,a.jsx)("li",{children:"• 24/7 support and guidance"})]}),(0,a.jsx)("div",{className:"mt-10 w-56 h-56 relative mx-auto",children:(0,a.jsx)(b(),{src:"/register-illustration.png",alt:"Register Illustration",fill:!0,style:{objectFit:"contain"}})})]}),(0,a.jsx)("div",{className:"p-10 md:p-14 flex items-center",children:(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("div",{className:"flex justify-center mb-6",children:(0,a.jsx)(b(),{src:"/logo.png",alt:"Logo",width:110,height:110,className:"object-contain"})}),(0,a.jsx)("h2",{className:"text-3xl font-semibold text-center text-slate-900",children:"Register your Account"}),(0,a.jsxs)("p",{className:"mt-2 mb-8 text-center text-sm text-slate-600",children:["Already have an account?",(0,a.jsx)(l(),{href:"/auth/login",className:"text-blue-600 hover:underline ml-1",children:"Sign in"})]}),(0,a.jsxs)("form",{onSubmit:L(onSubmit),className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(p.Z,{id:"firstName",label:"First Name",error:null===(e=k.firstName)||void 0===e?void 0:e.message,...E("firstName")}),(0,a.jsx)(p.Z,{id:"lastName",label:"Last Name",error:null===(s=k.lastName)||void 0===s?void 0:s.message,...E("lastName")}),(0,a.jsx)(p.Z,{id:"businessName",label:"Business Name",error:null===(i=k.businessName)||void 0===i?void 0:i.message,...E("businessName")}),(0,a.jsx)(p.Z,{id:"subdomain",label:"Subdomain",error:null===(t=k.subdomain)||void 0===t?void 0:t.message,...E("subdomain")}),(0,a.jsx)(p.Z,{id:"email",type:"email",label:"Email Address",error:null===(d=k.email)||void 0===d?void 0:d.message,...E("email")}),(0,a.jsx)(p.Z,{id:"password",type:"password",label:"Password",error:null===(h=k.password)||void 0===h?void 0:h.message,...E("password")})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"accountType",className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Type"}),(0,a.jsxs)("select",{id:"accountType",...E("accountType"),className:"w-full border border-gray-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",children:[(0,a.jsx)("option",{value:"admin",children:"Business User"}),(0,a.jsx)("option",{value:"professional",children:"Professional (CA, CS, Lawyer, Tax Consultant)"})]}),k.accountType&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:k.accountType.message})]}),"professional"===$&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"professionType",className:"block text-sm font-medium text-gray-700 mb-1",children:"Profession Type"}),(0,a.jsxs)("select",{...E("professionType"),className:"w-full border border-gray-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",children:[(0,a.jsx)("option",{value:"",children:"Select Profession"}),(0,a.jsx)("option",{value:"CA",children:"Chartered Accountant (CA)"}),(0,a.jsx)("option",{value:"CS",children:"Company Secretary (CS)"}),(0,a.jsx)("option",{value:"Advocate",children:"Advocate"}),(0,a.jsx)("option",{value:"TaxConsultant",children:"Tax Consultant"})]}),k.professionType&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:k.professionType.message})]}),(0,a.jsx)(p.Z,{id:"licenseNo",label:"License No (e.g., CA: CA12345 | CS: ACS12345 | Lawyer: UP/1234/2015 | TaxConsultant: TXC1234)",error:null===(N=k.licenseNo)||void 0===N?void 0:N.message,...E("licenseNo")}),(0,a.jsx)(x.z,{type:"button",className:"w-full bg-green-600 text-white mt-2",onClick:async()=>{let e=R("licenseNo"),s=R("professionType");if(!e||!s){alert("Select profession and enter license number");return}try{let i=await fetch("/api/auth/validate-license",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({professionType:s,licenseNo:e})}),a=await i.json();a.success?alert("✅ Verified: ".concat(a.data.name||"Valid License")):alert("❌ ".concat(a.message))}catch(e){alert("Verification failed, try again later")}},children:"Verify License"})]}),(0,a.jsx)(p.Z,{id:"pan",label:"PAN No. (e.g.,ABCDE1234F)",error:null===(j=k.pan)||void 0===j?void 0:j.message,...E("pan")}),(0,a.jsx)(p.Z,{id:"gst",label:"GST No. (e.g.,22AAAAA0000A1Z5)",error:null===(v=k.gst)||void 0===v?void 0:v.message,...E("gst")})]})]}),(0,a.jsx)(x.z,{type:"submit",className:"w-full",disabled:A,isLoading:A,children:"Create Account"})]}),_&&(0,a.jsx)(f.Z,{show:T,onClose:()=>C(!1),message:Z,type:Z.includes("successful")?"success":"error"})]})})]})}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})}}},function(e){e.O(0,[2138,9226,9496,731,8126,467,7240,5516,7578,3707,7951,7302,2968,6324,7737,6051,3957,4812,5323,747,6753,8870,5041,6026,5429,8498,4942,5702,8922,8510,8424,553,7226,269,6611,5341,5111,8592,2888,179],function(){return e(e.s=62219)}),_N_E=e.O()}]);