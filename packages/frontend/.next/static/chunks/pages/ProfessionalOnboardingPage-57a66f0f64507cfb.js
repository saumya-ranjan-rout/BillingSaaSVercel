(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5449],{94848:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/ProfessionalOnboardingPage",function(){return a(76230)}])},76230:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return pages_ProfessionalOnboardingPage}});var t=a(52322),i=a(25237),s=a.n(i),r=a(2784),l=a(24469),o=a(69692),c=a(62197),d=a(12352),u=a(46484),p=a(69290),g=a(50541),m=a(89663);let b={getSubscriptionPlans:async()=>[{id:"basic",name:"Basic Plan",description:"For freelancers and individuals",price:499,planType:m.k9.BASIC,features:{maxUsers:1,maxStorage:5,gstFiling:!1,taxFiling:!1,advancedReporting:!1}},{id:"pro",name:"Pro Plan",description:"For growing teams and small businesses",price:999,planType:m.k9.PREMIUM,features:{maxUsers:5,maxStorage:50,gstFiling:!0,taxFiling:!0,advancedReporting:!1}},{id:"enterprise",name:"Enterprise",description:"For large organizations and enterprises",price:2499,planType:m.k9.ENTERPRISE,features:{maxUsers:999,maxStorage:1e3,gstFiling:!0,taxFiling:!0,advancedReporting:!0}}],async onboardTenant(e){let{tenantData:n,planId:a,paymentMethodId:t}=e;return await new Promise(e=>setTimeout(e,1e3)),{success:!0}}},h=s()(()=>Promise.all([a.e(2138),a.e(9226),a.e(9496),a.e(731),a.e(8126),a.e(467),a.e(7240),a.e(5516),a.e(7578),a.e(3707),a.e(7951),a.e(7302),a.e(2968),a.e(6324),a.e(7737),a.e(6051),a.e(3957),a.e(4812),a.e(5323),a.e(747),a.e(6753),a.e(8870),a.e(5041),a.e(6026),a.e(5429),a.e(8498),a.e(4942),a.e(5702),a.e(8922),a.e(8510),a.e(8424),a.e(553),a.e(7226),a.e(269),a.e(6611),a.e(5341),a.e(5111),a.e(8592)]).then(a.bind(a,4526)).then(e=>e.TenantForm),{loadableGenerated:{webpack:()=>[4526]},ssr:!1}),x=s()(()=>Promise.all([a.e(2138),a.e(9226),a.e(9496),a.e(731),a.e(8126),a.e(467),a.e(7240),a.e(5516),a.e(7578),a.e(3707),a.e(7951),a.e(7302),a.e(2968),a.e(6324),a.e(7737),a.e(6051),a.e(3957),a.e(4812),a.e(5323),a.e(747),a.e(6753),a.e(8870),a.e(5041),a.e(6026),a.e(5429),a.e(8498),a.e(4942),a.e(5702),a.e(8922),a.e(8510),a.e(8424),a.e(553),a.e(7226),a.e(269),a.e(6611),a.e(5341),a.e(5111),a.e(8592)]).then(a.bind(a,61017)).then(e=>e.SubscriptionPlans),{loadableGenerated:{webpack:()=>[61017]},ssr:!1}),P=s()(()=>Promise.all([a.e(2138),a.e(9226),a.e(9496),a.e(731),a.e(8126),a.e(467),a.e(7240),a.e(5516),a.e(7578),a.e(3707),a.e(7951),a.e(7302),a.e(2968),a.e(6324),a.e(7737),a.e(6051),a.e(3957),a.e(4812),a.e(5323),a.e(747),a.e(6753),a.e(8870),a.e(5041),a.e(6026),a.e(5429),a.e(8498),a.e(4942),a.e(5702),a.e(8922),a.e(8510),a.e(8424),a.e(553),a.e(7226),a.e(269),a.e(6611),a.e(5341),a.e(5111),a.e(8592)]).then(a.bind(a,24299)).then(e=>e.PaymentForm),{loadableGenerated:{webpack:()=>[24299]},ssr:!1}),f=["Tenant Details","Select Plan","Payment"];var pages_ProfessionalOnboardingPage=()=>{let[e,n]=(0,r.useState)(0),[a,i]=(0,r.useState)([]),[s,S]=(0,r.useState)(null),[y,w]=(0,r.useState)(m.uC.MONTHLY),[_,T]=(0,r.useState)(null),[E,F]=(0,r.useState)(!1),[j,k]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{let e=await b.getSubscriptionPlans();i(e)}catch(e){}})()},[]);let handlePaymentSubmit=async e=>{try{F(!0),k(null),await b.onboardTenant({tenantData:_,planId:s,paymentMethodId:e}),window.location.href="/onboarding/success"}catch(e){k(e.message||"Failed to onboard tenant")}finally{F(!1)}};return(0,t.jsxs)(l.Z,{maxWidth:"lg",sx:{py:4},children:[(0,t.jsxs)(o.Z,{sx:{textAlign:"center",mb:4},children:[(0,t.jsx)(c.Z,{variant:"h3",children:"Onboard a New Client"}),(0,t.jsx)(c.Z,{color:"textSecondary",children:"Set up a new tenant account for your client"})]}),j&&(0,t.jsx)(d.Z,{severity:"error",sx:{mb:3},children:j}),(0,t.jsx)(u.Z,{activeStep:e,sx:{mb:6},children:f.map(e=>(0,t.jsx)(p.Z,{children:(0,t.jsx)(g.Z,{children:e})},e))}),0===e&&(0,t.jsx)(h,{onSubmit:e=>{T(e),n(1)}}),1===e&&(0,t.jsx)(x,{plans:a,selectedPlan:s,onPlanSelect:e=>{S(e),n(2)},billingCycle:y,onBillingCycleChange:w}),2===e&&(0,t.jsx)(P,{amount:(e=>{if(!e)return 0;switch(y){case m.uC.QUARTERLY:return 2.7*e.price;case m.uC.ANNUALLY:return 12*e.price*.8;default:return e.price}})(a.find(e=>e.id===s)),onSubmit:handlePaymentSubmit,isLoading:E})]})}}},function(e){e.O(0,[2138,9226,9496,731,8126,467,7240,5516,7578,3707,7951,7302,2968,6324,7737,6051,3957,4812,5323,747,6753,8870,5041,6026,5429,8498,4942,5702,8922,8510,8424,553,7226,269,6611,5341,5111,8592,2888,179],function(){return e(e.s=94848)}),_N_E=e.O()}]);