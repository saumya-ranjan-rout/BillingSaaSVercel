(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5824],{81578:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/TenantOnboardingPage",function(){return n(21082)}])},21082:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return pages_TenantOnboardingPage}});var a=n(52322),s=n(25237),i=n.n(s),r=n(2784),l=n(24469),o=n(69692),c=n(62197),u=n(46484),d=n(69290),h=n(50541),p=n(89663),b=n(60418),P=n(93542);let S=P.env.NEXT_PUBLIC_API_URL||"http://localhost:4000/api",f={async getSubscriptionPlans(){try{let e=await b.Z.get("".concat(S,"/subscription-plans"));return e.data}catch(e){throw e}},async createTenantWithSubscription(e){try{let t=await b.Z.post("".concat(S,"/tenant/onboard"),e);return t.data}catch(e){throw e}}},w=i()(()=>Promise.all([n.e(2138),n.e(9226),n.e(9496),n.e(731),n.e(8126),n.e(467),n.e(7240),n.e(5516),n.e(7578),n.e(3707),n.e(7951),n.e(7302),n.e(2968),n.e(6324),n.e(7737),n.e(6051),n.e(3957),n.e(4812),n.e(5323),n.e(747),n.e(6753),n.e(8870),n.e(5041),n.e(6026),n.e(5429),n.e(8498),n.e(4942),n.e(5702),n.e(8922),n.e(8510),n.e(8424),n.e(553),n.e(7226),n.e(269),n.e(6611),n.e(5341),n.e(5111),n.e(8592)]).then(n.bind(n,4526)).then(e=>e.TenantForm),{loadableGenerated:{webpack:()=>[4526]},ssr:!1}),m=i()(()=>Promise.all([n.e(2138),n.e(9226),n.e(9496),n.e(731),n.e(8126),n.e(467),n.e(7240),n.e(5516),n.e(7578),n.e(3707),n.e(7951),n.e(7302),n.e(2968),n.e(6324),n.e(7737),n.e(6051),n.e(3957),n.e(4812),n.e(5323),n.e(747),n.e(6753),n.e(8870),n.e(5041),n.e(6026),n.e(5429),n.e(8498),n.e(4942),n.e(5702),n.e(8922),n.e(8510),n.e(8424),n.e(553),n.e(7226),n.e(269),n.e(6611),n.e(5341),n.e(5111),n.e(8592)]).then(n.bind(n,61017)).then(e=>e.SubscriptionPlans),{loadableGenerated:{webpack:()=>[61017]},ssr:!1}),g=i()(()=>Promise.all([n.e(2138),n.e(9226),n.e(9496),n.e(731),n.e(8126),n.e(467),n.e(7240),n.e(5516),n.e(7578),n.e(3707),n.e(7951),n.e(7302),n.e(2968),n.e(6324),n.e(7737),n.e(6051),n.e(3957),n.e(4812),n.e(5323),n.e(747),n.e(6753),n.e(8870),n.e(5041),n.e(6026),n.e(5429),n.e(8498),n.e(4942),n.e(5702),n.e(8922),n.e(8510),n.e(8424),n.e(553),n.e(7226),n.e(269),n.e(6611),n.e(5341),n.e(5111),n.e(8592)]).then(n.bind(n,24299)).then(e=>e.PaymentForm),{loadableGenerated:{webpack:()=>[24299]},ssr:!1}),y=i()(()=>Promise.all([n.e(2138),n.e(9226),n.e(9496),n.e(731),n.e(8126),n.e(467),n.e(7240),n.e(5516),n.e(7578),n.e(3707),n.e(7951),n.e(7302),n.e(2968),n.e(6324),n.e(7737),n.e(6051),n.e(3957),n.e(4812),n.e(5323),n.e(747),n.e(6753),n.e(8870),n.e(5041),n.e(6026),n.e(5429),n.e(8498),n.e(4942),n.e(5702),n.e(8922),n.e(8510),n.e(8424),n.e(553),n.e(7226),n.e(269),n.e(6611),n.e(5341),n.e(5111),n.e(4636)]).then(n.bind(n,49511)).then(e=>e.ProfessionalSelection),{loadableGenerated:{webpack:()=>[49511]},ssr:!1}),x=["Tenant Details","Select Plan","Choose Professional","Payment"];var pages_TenantOnboardingPage=()=>{let[e,t]=(0,r.useState)(0),[n,s]=(0,r.useState)([]),[i,b]=(0,r.useState)(null),[P,S]=(0,r.useState)(p.uC.MONTHLY),[_,T]=(0,r.useState)(null),[j,C]=(0,r.useState)(null),[k,N]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{try{let e=await f.getSubscriptionPlans();s(e)}catch(e){}})()},[]);let handlePaymentSubmit=async e=>{try{N(!0),await f.createTenantWithSubscription({tenantData:j,planId:i,paymentMethodId:e,professionalId:_}),window.location.href="/onboarding/success"}catch(e){}finally{N(!1)}};return(0,a.jsxs)(l.Z,{maxWidth:"lg",sx:{py:4},children:[(0,a.jsxs)(o.Z,{sx:{textAlign:"center",mb:4},children:[(0,a.jsx)(c.Z,{variant:"h3",children:"Get Started with BillingSoftware"}),(0,a.jsx)(c.Z,{color:"textSecondary",children:"Complete these steps to set up your account"})]}),(0,a.jsx)(u.Z,{activeStep:e,sx:{mb:6},children:x.map(e=>(0,a.jsx)(d.Z,{children:(0,a.jsx)(h.Z,{children:e})},e))}),0===e&&(0,a.jsx)(w,{onSubmit:e=>{C(e),t(1)}}),1===e&&(0,a.jsx)(m,{plans:n,selectedPlan:i,onPlanSelect:e=>{b(e),t(2)},billingCycle:P,onBillingCycleChange:S}),2===e&&(0,a.jsx)(y,{selectedProfessional:_,onProfessionalSelect:e=>{T(e),t(3)},onSkip:()=>t(3)}),3===e&&(0,a.jsx)(g,{amount:(e=>{if(!e)return 0;switch(P){case p.uC.QUARTERLY:return 2.7*e.price;case p.uC.ANNUALLY:return 12*e.price*.8;default:return e.price}})(n.find(e=>e.id===i)),onSubmit:handlePaymentSubmit,isLoading:k})]})}}},function(e){e.O(0,[2138,9226,9496,731,8126,467,7240,5516,7578,3707,7951,7302,2968,6324,7737,6051,3957,4812,5323,747,6753,8870,5041,6026,5429,8498,4942,5702,8922,8510,8424,553,7226,269,6611,5341,5111,8592,2888,179],function(){return e(e.s=81578)}),_N_E=e.O()}]);